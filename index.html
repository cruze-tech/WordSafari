<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word Safari: The Great Vocabulary Hunt</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cdefs%3E%3ClinearGradient id='grad' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23FF8C42;stop-opacity:1'/%3E%3Cstop offset='100%25' style='stop-color:%23FFD93D;stop-opacity:1'/%3E%3C/linearGradient%3E%3C/defs%3E%3Ccircle cx='50' cy='50' r='48' fill='url(%23grad)'/%3E%3Cellipse cx='35' cy='40' rx='12' ry='15' fill='%23333' opacity='0.3'/%3E%3Cellipse cx='65' cy='40' rx='12' ry='15' fill='%23333' opacity='0.3'/%3E%3Cellipse cx='35' cy='40' rx='8' ry='12' fill='%23fff'/%3E%3Cellipse cx='65' cy='40' rx='8' ry='12' fill='%23fff'/%3E%3Crect x='30' y='35' width='40' height='3' fill='%23333'/%3E%3Cpath d='M 30 55 Q 35 50 40 55' fill='none' stroke='%23333' stroke-width='2'/%3E%3Cpath d='M 60 55 Q 65 50 70 55' fill='none' stroke='%23333' stroke-width='2'/%3E%3Cpath d='M 25 65 Q 30 60 35 62 Q 40 58 45 60 Q 50 62 55 60 Q 60 58 65 62 Q 70 60 75 65' fill='none' stroke='%23FF8C42' stroke-width='3'/%3E%3Ccircle cx='20' cy='75' r='4' fill='%23FFD93D'/%3E%3Ccircle cx='35' cy='78' r='3' fill='%23FF8C42'/%3E%3Ccircle cx='50' cy='80' r='3.5' fill='%23FFD93D'/%3E%3Ccircle cx='65' cy='78' r='3' fill='%23FF8C42'/%3E%3Ccircle cx='80' cy='75' r='4' fill='%23FFD93D'/%3E%3C/svg%3E">
    <link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAKkSURBVFiFzZdNaBNBFMd/b5JNGpM0aU1jPxKLYKEgCIIHQfDgQRBBEDx48OBBEDx48OBBEDx48OBBEDx48OBBEDx48OBBEDx48OBBEDx4qFpbbdM0zSbZnRkPu5vdJJvN7kf/h2V23ry/b+bNmzcD/zMUAFprpJRYlkWxWKRQKFAoFCgWi1iWhZQSrTVSSrTWKKVQSqGUQimFUgqtNUoplFJIKdFao7VGa43WGq01Wmu01mitUUqhlEIphdYarTVaa7TWaK1RSqGUQimF1hqtNVprtNZordFao7VGKYVSCqUUWmuklGitkVKitUZKiZQSKSVSSpRSKKVQSqG1RkqJlBIpJVJKpJRIKZFSopRCKYVSCqUUSim01kgpkVIipURKiZQSKSVKKZRSKKVQSqGUQmuNlBIpJVJKpJRIKVFKoZRCKYVSCqUUWmuklEgpkVIipURKiVIKpRRKKZRSKKXQWiOlREqJlBIpJVJKlFIopVBKoZRCa42UEiklUkqklEgpUUqhlEIphVIKrTVSSpRSKKVQSqGUQimFUgqlFEoplFJorVFKoZRCKYVSCqUUSim01iilUEqhlEIphVIKpRRKKZRSKKVQSqGUQimFUgqlFEoplFIopVBKoZRCKYVSCqUUSim01iilUEqhlEIphVIKpRRKKZRSKKVQSqGUQimFUgqlFEoplFIopVBKoZRCKYVSCqUUSim01iilUEqhlEIphVIKpRRKKZRSKKVQSqGUQimFUgqlFEoplFIopVBKoZRCKYVSCq01SimUUiilUEqhlEIphVIKpRRKKZRSKKVQSqGUQimFUgqlFEoplFIopVBKoZRCKYVSCqUUWmuUUiilUEqhlEIphVIKpRRKKZRSKKVQSqGUQimFUgqlFEoplFIopVBKoZRCKYVSCqUU/wCxwXC8YGxzFwAAAABJRU5ErkJggg==">
    <link rel="apple-touch-icon" sizes="180x180" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAAC0CAYAAAA9zQYyAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAA==">
    <meta name="theme-color" content="#FF8C42">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="app">
        
        <!-- ğŸŒ… Start Menu Screen -->
        <div id="start-screen" class="screen active">
            <div class="title-container">
                <h1 class="game-title">ğŸ¦ Word Safari</h1>
                <p class="subtitle">The Great Vocabulary Hunt</p>
            </div>

            <!-- Stats Dashboard -->
            <div class="stats-dashboard">
                <div class="stat-item">
                    <div class="stat-icon">ğŸ†</div>
                    <div class="stat-info">
                        <span class="stat-value" id="stat-high-score">0</span>
                        <span class="stat-label">High Score</span>
                    </div>
                </div>
                <div class="stat-item">
                    <div class="stat-icon">ğŸ¦</div>
                    <div class="stat-info">
                        <span class="stat-value"><span id="stat-animals">0</span>/42</span>
                        <span class="stat-label">Animals Found</span>
                    </div>
                </div>
                <div class="stat-item">
                    <div class="stat-icon">ğŸ”¥</div>
                    <div class="stat-info">
                        <span class="stat-value" id="stat-streak">0</span>
                        <span class="stat-label">Day Streak</span>
                    </div>
                </div>
                <div class="stat-item">
                    <div class="stat-icon">â­</div>
                    <div class="stat-info">
                        <span class="stat-value" id="stat-level">1</span>
                        <span class="stat-label">Player Level</span>
                    </div>
                </div>
            </div>

            <!-- Difficulty Selector -->
            <div class="difficulty-selector">
                <label>Difficulty:</label>
                <div class="difficulty-buttons">
                    <button class="difficulty-btn active" data-difficulty="adaptive">
                        <span class="difficulty-emoji">ğŸ¯</span>
                        <span>Adaptive</span>
                    </button>
                    <button class="difficulty-btn" data-difficulty="easy">
                        <span class="difficulty-emoji">ğŸ˜Š</span>
                        <span>Easy</span>
                    </button>
                    <button class="difficulty-btn" data-difficulty="medium">
                        <span class="difficulty-emoji">ğŸ¤”</span>
                        <span>Medium</span>
                    </button>
                    <button class="difficulty-btn" data-difficulty="hard">
                        <span class="difficulty-emoji">ğŸ”¥</span>
                        <span>Hard</span>
                    </button>
                </div>
            </div>

            <div class="menu-buttons">
                <button id="btn-play" class="btn btn-primary">ğŸ® Start Adventure</button>
                <button id="btn-spelling" class="btn btn-secondary">ğŸ Spelling Bee</button>
                <button id="btn-daily" class="btn btn-info">â±ï¸ Daily Quest</button>
                <button id="btn-sentence" class="btn btn-primary">ğŸ§© Sentence Builder</button>
                <button id="btn-achievements" class="btn btn-small">ğŸ† Achievements</button>
                <button id="btn-instructions" class="btn btn-small">ğŸ“– How to Play</button>
            </div>
            <button id="sound-toggle" class="sound-toggle">ğŸ”Š</button>
        </div>

        <!-- ğŸ¯ Game Screen -->
        <div id="game-screen" class="screen">
            <div class="hud">
                <div class="hud-item">
                    <span class="hud-label">Score</span>
                    <span class="hud-value" id="score">0</span>
                </div>
                <div class="hud-item">
                    <span class="hud-label">Level</span>
                    <span class="hud-value" id="level">1</span>
                </div>
                <div class="hud-item">
                    <span class="hud-label">XP</span>
                    <span class="hud-value" id="xp-display">0/100</span>
                </div>
                <div class="hud-item">
                    <span class="hud-label">Time</span>
                    <span class="hud-value" id="timer">60</span>
                </div>
                <button id="btn-pause" class="btn-small">â¸ï¸ Pause</button>
            </div>
            
            <!-- Difficulty Badge -->
            <div class="difficulty-badge" id="difficulty-badge">ğŸ¯ Adaptive</div>

            <div class="clue-box">
                <p class="clue-text">Find the animal that is: <strong id="clue-word">tall</strong></p>
            </div>
            <div class="game-area" id="game-area"></div>
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>

            <!-- Combo Counter -->
            <div class="combo-counter hidden" id="combo-counter">
                <span class="combo-text">COMBO</span>
                <span class="combo-value">x0</span>
            </div>
        </div>

        <!-- ğŸ“ Spelling Bee Screen -->
        <div id="spelling-screen" class="screen">
            <button class="btn-back" id="btn-back-spelling">â† Back</button>
            <h2 class="screen-title">ğŸ Spelling Bee</h2>
            <div class="spelling-container">
                <div class="word-audio">
                    <button id="btn-play-word" class="btn-audio">ğŸ”Š Play Word</button>
                    <p class="spelling-hint" id="spelling-hint">A large gray animal with a trunk</p>
                </div>
                <input type="text" id="spelling-input" class="spelling-input" placeholder="Type the word..." autocomplete="off">
                <div class="spelling-buttons">
                    <button id="btn-check-spelling" class="btn btn-primary">âœ“ Check</button>
                    <button id="btn-spelling-skip" class="btn btn-secondary">â†’ Skip</button>
                </div>
                <div id="spelling-feedback" class="spelling-feedback"></div>
                <div class="spelling-score">
                    <span>âœ“ Correct: <strong id="spelling-correct">0</strong></span>
                    <span>âœ— Wrong: <strong id="spelling-wrong">0</strong></span>
                </div>
            </div>
        </div>

        <!-- â±ï¸ Daily Quest Screen -->
        <div id="daily-screen" class="screen">
            <button class="btn-back" id="btn-back-daily">â† Back</button>
            <h2 class="screen-title">â±ï¸ Daily Quest</h2>
            <div class="daily-container">
                <div class="daily-timer">
                    <span class="timer-label">Time Remaining</span>
                    <div class="timer-value" id="daily-timer">30</div>
                </div>
                <div class="daily-question">
                    <p class="question-text">What is a synonym for "brave"?</p>
                </div>
                <div id="answer-options" class="answer-options"></div>
                <div class="daily-progress">
                    Question <span id="daily-current">1</span> of <span id="daily-total">5</span>
                </div>
            </div>
        </div>

        <!-- ğŸ§© Sentence Builder Screen -->
        <div id="sentence-screen" class="screen">
            <button class="btn-back" id="btn-back-sentence">â† Back</button>
            <h2 class="screen-title">ğŸ§© Sentence Builder</h2>
            <div class="spelling-container">
                <div class="sentence-animal-box" id="sentence-animal-svg" style="text-align:center; height:120px; display:flex; justify-content:center; align-items:center;"></div>
                <div class="sentence-drop-zone" id="sentence-drop-zone" style="font-size: 1.5rem; text-align: center; margin: 20px 0; font-weight: bold; background: #f8f9fa; padding: 20px; border-radius: 15px; border: 2px dashed var(--color-primary); display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; align-items: center;">
                    <span>The</span>
                    <div class="drop-slot" data-expected="name" id="slot-name" style="min-width: 100px; border-bottom: 3px solid #ccc; color: var(--color-primary); padding: 5px;">?</div>
                    <span>is a</span>
                    <div class="drop-slot" data-expected="adjective" id="slot-adjective" style="min-width: 100px; border-bottom: 3px solid #ccc; color: var(--color-primary); padding: 5px;">?</div>
                    <div class="drop-slot" data-expected="category" id="slot-category" style="min-width: 100px; border-bottom: 3px solid #ccc; color: var(--color-primary); padding: 5px;">?</div>
                    <span>.</span>
                </div>
                
                <h3 style="text-align: center; margin-bottom: 10px; opacity: 0.7;">Word Bank</h3>
                <div class="word-bank" id="word-bank" style="display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; margin-bottom: 20px;"></div>
                
                <div class="spelling-buttons">
                    <button id="btn-check-sentence" class="btn btn-primary">âœ“ Check</button>
                    <button id="btn-sentence-skip" class="btn btn-secondary">â†’ Skip</button>
                </div>
                <div id="sentence-feedback" class="spelling-feedback"></div>
                <div class="spelling-score">
                    <span>âœ“ Correct: <strong id="sentence-correct">0</strong></span>
                    <span>âœ— Wrong: <strong id="sentence-wrong">0</strong></span>
                </div>
            </div>
        </div>

        <!-- ğŸ† End Screen -->
        <div id="end-screen" class="screen">
            <h2 class="screen-title">ğŸ‰ Game Over!</h2>
            <div class="end-stats">
                <div class="stat-card">
                    <span class="stat-value" id="end-score">0</span>
                    <span class="stat-label">Final Score</span>
                </div>
                <div class="stat-card">
                    <span class="stat-value" id="end-level">1</span>
                    <span class="stat-label">Level Reached</span>
                </div>
                <div class="stat-card">
                    <span class="stat-value" id="end-stars">â­</span>
                    <span class="stat-label">Stars</span>
                </div>
                <div class="stat-card">
                    <span class="stat-value" id="end-xp">+0 XP</span>
                    <span class="stat-label">Earned</span>
                </div>
            </div>
            <div class="end-message" id="end-message">
                <p>Great job! Keep learning!</p>
            </div>
            
            <!-- New Achievements Unlocked -->
            <div class="unlocked-achievements" id="unlocked-achievements"></div>

            <div class="end-buttons">
                <button id="btn-play-again" class="btn btn-primary">ğŸ”„ Play Again</button>
                <button id="btn-menu" class="btn btn-secondary">ğŸ  Main Menu</button>
            </div>
        </div>

        <!-- ğŸ† Achievements Modal -->
        <div id="achievements-modal" class="modal">
            <div class="modal-content">
                <button id="achievements-close" class="modal-close">âœ•</button>
                <h2>ğŸ† Achievements</h2>
                <div class="achievements-grid" id="achievements-grid"></div>
            </div>
        </div>

        <!-- ğŸ“– Instructions Modal -->
        <div id="instructions-modal" class="modal">
            <div class="modal-content">
                <button id="modal-close" class="modal-close">âœ•</button>
                <h2>ğŸ“– How to Play Word Safari</h2>
                <div class="instructions-grid">
                    <div class="instruction-item">
                        <div class="instruction-icon">ğŸ¯</div>
                        <h3>Main Game</h3>
                        <p>Click animals that match the clue word</p>
                    </div>
                    <div class="instruction-item">
                        <div class="instruction-icon">ğŸ</div>
                        <h3>Spelling Bee</h3>
                        <p>Listen and spell words correctly</p>
                    </div>
                    <div class="instruction-item">
                        <div class="instruction-icon">â±ï¸</div>
                        <h3>Daily Quest</h3>
                        <p>Answer vocabulary questions quickly</p>
                    </div>
                    <div class="instruction-item">
                        <div class="instruction-icon">ğŸ†</div>
                        <h3>Achievements</h3>
                        <p>Unlock badges and track progress</p>
                    </div>
                </div>
                <div class="tips-section">
                    <h3>ğŸ’¡ Tips</h3>
                    <ul>
                        <li>Listen carefully to word pronunciations</li>
                        <li>Think about animal characteristics</li>
                        <li>Build combos for bonus points</li>
                        <li>Complete achievements for rewards</li>
                        <li>Practice daily to improve your streak!</li>
                    </ul>
                </div>
                <button id="btn-start-instructions" class="btn btn-primary">ğŸ® Start Playing</button>
            </div>
        </div>

        <!-- Pause Menu Modal -->
        <div id="pause-modal" class="modal">
            <div class="modal-content pause-menu">
                <h2>â¸ï¸ Game Paused</h2>
                <div class="pause-buttons">
                    <button id="btn-resume" class="btn btn-primary">â–¶ï¸ Resume</button>
                    <button id="btn-restart" class="btn btn-secondary">ğŸ”„ Restart Level</button>
                    <button id="btn-settings" class="btn btn-info">âš™ï¸ Settings</button>
                    <button id="btn-quit" class="btn btn-small">ğŸ  Main Menu</button>
                </div>
            </div>
        </div>

        <!-- Animal Fact Card Modal -->
        <div id="fact-modal" class="modal">
            <div class="modal-content fact-card">
                <button id="fact-close" class="modal-close">âœ•</button>
                <div class="fact-animal-image" id="fact-animal-svg"></div>
                <h2 id="fact-animal-name">Lion</h2>
                <div class="fact-content">
                    <p id="fact-description"></p>
                    <div class="fact-details">
                        <div class="fact-detail">
                            <strong>Habitat:</strong>
                            <span id="fact-habitat"></span>
                        </div>
                        <div class="fact-detail">
                            <strong>Diet:</strong>
                            <span id="fact-diet"></span>
                        </div>
                        <div class="fact-detail">
                            <strong>Conservation:</strong>
                            <span id="fact-status"></span>
                        </div>
                    </div>
                </div>
                <button id="btn-fact-close" class="btn btn-primary">Got it!</button>
            </div>
        </div>

    </div>

    <!-- Achievement Notification Toast -->
    <div id="achievement-toast" class="achievement-toast hidden">
        <div class="toast-content">
            <div class="toast-icon">ğŸ†</div>
            <div class="toast-text">
                <div class="toast-title">Achievement Unlocked!</div>
                <div class="toast-name" id="toast-name"></div>
            </div>
        </div>
    </div>

    <!-- Audio Elements (Hidden) -->
    <audio id="audio-ambient" loop></audio>
    <audio id="audio-correct"></audio>
    <audio id="audio-wrong"></audio>
    <audio id="audio-click"></audio>

    <!-- Scripts -->
    <script type="module" src="js/data.js"></script>
    <script type="module" src="js/audio.js"></script>
    <script type="module" src="js/achievements.js"></script>
    <script type="module" src="js/progression.js"></script>
    <script type="module" src="js/game.js"></script>
    <script type="module" src="js/ui.js"></script>
</body>
</html>